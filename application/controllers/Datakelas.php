<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\x53\x45\120\101\124\110") or exit("\x4e\x6f\x20\144\x69\x72\145\143\164\x20\x73\143\162\x69\x70\x74\40\141\x63\143\x65\163\x73\x20\x61\154\x6c\157\167\145\144"); class Datakelas extends CI_Controller { public function __construct() { goto mzAHC; f6d5E: BPO3U: goto ZuNMQ; r3HlQ: FrSBb: goto LDbfE; CikT5: show_error("\110\141\x6e\x79\141\x20\x41\x64\x6d\151\x6e\151\x73\164\x72\141\164\157\162\x20\x79\x61\x6e\x67\40\144\x69\x62\x65\162\x69\40\x68\141\153\x20\165\156\164\x75\153\40\155\x65\x6e\147\x61\153\163\145\163\40\150\141\154\x61\x6d\141\x6e\40\x69\156\x69\x2c\40\74\x61\x20\x68\x72\145\x66\75\x22" . base_url("\x64\x61\x73\x68\142\157\141\x72\x64") . "\x22\76\113\145\155\142\x61\x6c\x69\x20\x6b\145\40\155\x65\156\x75\40\x61\x77\x61\154\x3c\x2f\141\76", 403, "\101\x6b\x73\x65\163\40\x54\x65\162\154\x61\x72\x61\156\x67"); goto f6d5E; LDbfE: $this->load->library(["\x64\x61\164\141\x74\141\142\154\145\x73", "\x66\157\162\155\x5f\x76\x61\x6c\151\x64\x61\x74\x69\x6f\x6e"]); goto eLjRl; HHxR5: $this->load->model("\122\141\160\x6f\162\137\x6d\157\144\x65\154", "\162\x61\160\x6f\162"); goto n_4Tm; ZuNMQ: goto FrSBb; goto uZvnt; BL3X6: $this->load->model("\x4d\141\x73\164\145\162\x5f\x6d\x6f\x64\145\x6c", "\x6d\141\163\x74\145\x72"); goto BOVHN; mzAHC: parent::__construct(); goto csC4Z; da6oe: if ($this->ion_auth->is_admin()) { goto BPO3U; } goto CikT5; E0wj0: redirect("\x61\x75\x74\x68"); goto r3HlQ; csC4Z: if (!$this->ion_auth->logged_in()) { goto e1uoh; } goto da6oe; n_4Tm: $this->form_validation->set_error_delimiters('', ''); goto vkojJ; zj0ie: $this->load->model("\x44\x61\163\150\142\x6f\x61\x72\x64\x5f\155\157\x64\145\154", "\144\x61\163\x68\142\x6f\141\x72\x64"); goto BL3X6; eLjRl: $this->load->model("\x4b\145\154\x61\x73\137\155\157\x64\145\x6c", "\x6b\145\154\141\163"); goto zj0ie; BOVHN: $this->load->model("\x44\x72\x6f\160\x64\157\167\x6e\137\155\x6f\x64\x65\154", "\144\162\157\x70\144\157\167\x6e"); goto HHxR5; uZvnt: e1uoh: goto E0wj0; vkojJ: } public function output_json($data, $encode = true) { goto hAxiG; TrTnb: $data = json_encode($data); goto rRJt4; hAxiG: if (!$encode) { goto Cz1ls; } goto TrTnb; rRJt4: Cz1ls: goto ENpEJ; ENpEJ: $this->output->set_content_type("\141\160\160\x6c\x69\x63\141\164\x69\x6f\156\57\152\x73\157\156")->set_output($data); goto egLqP; egLqP: } public function index() { goto GhjUp; GopiD: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\x74\145\x73\57\144\141\x73\x68\142\x6f\x61\x72\144\57\137\x66\x6f\x6f\164\145\x72"); goto LP5IA; KYU_D: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto COFJx; COFJx: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\x32"); goto dqvQk; Y9Qmn: $tp = $this->dashboard->getTahunActive(); goto fcEtk; mgh5H: $setting = $this->dashboard->getSetting(); goto XXZin; WvQVr: $data["\x74\160\137\x61\143\164\151\x76\145"] = $tp; goto ey2eZ; mwqgk: $data["\164\160"] = $this->dashboard->getTahun(); goto WvQVr; fcEtk: $smt = $this->dashboard->getSemesterActive(); goto mwqgk; cmXN9: if (!($chek > 0)) { goto GIZ3L; } goto KYU_D; s9ceI: $kelas = []; goto zBy0D; Xeven: $data["\163\155\x74\137\141\x63\x74\151\x76\145"] = $smt; goto kf58u; kf58u: $data["\160\x72\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto sXNah; JcCTM: $this->load->view("\x5f\x74\x65\x6d\160\154\x61\164\x65\163\57\144\x61\163\150\x62\x6f\141\x72\144\57\x5f\x68\x65\x61\x64\145\162", $data); goto m3iLU; zBy0D: $kelas_lama = []; goto cmXN9; falKl: $data["\x6a\x75\x72\x75\163\x61\x6e"] = $this->kelas->get_jurusan(); goto yaTvb; wiWP0: $data["\153\x65\154\141\163"] = $kelas; goto tS8iX; sXNah: $chek = $this->kelas->count_all(); goto s9ceI; m3iLU: $this->load->view("\x6d\141\163\164\x65\162\57\153\x65\154\141\163\57\144\141\164\141"); goto GopiD; XXZin: $data = ["\165\163\x65\x72" => $user, "\152\165\x64\165\x6c" => "\113\145\x6c\x61\x73", "\163\165\x62\x6a\165\x64\165\154" => "\x44\141\164\x61\x20\x4b\x65\x6c\x61\163", "\163\145\164\x74\151\156\x67" => $setting]; goto Y9Qmn; DgW06: $data["\x73\x69\163\167\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto JcCTM; dqvQk: GIZ3L: goto wiWP0; tS8iX: $data["\x6b\x65\x6c\x61\x73\137\x6c\141\x6d\141"] = $kelas_lama; goto falKl; yaTvb: $data["\154\145\166\145\154"] = $this->kelas->getLevel($setting->jenjang); goto Z9Tar; ey2eZ: $data["\163\155\164"] = $this->dashboard->getSemester(); goto Xeven; GhjUp: $user = $this->ion_auth->user()->row(); goto mgh5H; Z9Tar: $data["\x67\x75\x72\165"] = $this->kelas->get_guru(); goto DgW06; LP5IA: } public function detail($id) { goto dFh_Z; r5UDE: $data["\x6a\165\162\165\x73\x61\x6e"] = $this->kelas->get_jurusan(); goto bAfoZ; jrUNh: $struktur = $this->kelas->getStrukturKelas($id); goto hR8YC; KC0jq: $data["\x73\x6d\164\137\x61\x63\164\151\x76\145"] = $smt; goto jsLEf; hR8YC: if ($struktur == null) { goto xhn6f; } goto OTdye; rA_hR: $data = ["\165\163\145\162" => $user, "\152\165\144\165\154" => "\x44\145\x74\141\x69\x6c\x20\113\145\154\141\163", "\x73\x75\142\152\165\x64\x75\x6c" => "\x44\145\164\x61\151\x6c\40\x4b\x65\x6c\x61\x73", "\163\145\x74\164\151\156\147" => $setting]; goto Zkfnm; a4SbB: $this->load->view("\137\164\145\x6d\160\154\141\164\x65\163\57\x64\x61\163\150\142\157\141\162\x64\x2f\x5f\x66\157\x6f\164\145\x72"); goto AX0ux; Ixj4S: $setting = $this->dashboard->getSetting(); goto rA_hR; guidh: $smt = $this->dashboard->getSemesterActive(); goto DyHQS; SjAli: goto p4ufw; goto lPBEp; RwvLx: $data["\x6b\x65\154\141\x73"] = $this->kelas->get_one($id); goto r5UDE; OTdye: $data["\x73\x74\x72\x75\153\x74\165\162"] = $struktur; goto SjAli; ZglDB: $this->load->view("\x5f\x74\x65\x6d\160\x6c\141\x74\x65\x73\57\144\141\163\150\142\157\141\162\144\x2f\137\x68\x65\x61\x64\145\x72", $data); goto UmuHF; jsLEf: $data["\160\x72\157\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto RwvLx; DyHQS: $data["\x74\160"] = $this->dashboard->getTahun(); goto E2g0k; CQraW: p4ufw: goto ZglDB; lPBEp: xhn6f: goto zk2sZ; PDh3r: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto KC0jq; dFh_Z: $user = $this->ion_auth->user()->row(); goto Ixj4S; zk2sZ: $data["\x73\164\162\165\153\x74\165\162"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto CQraW; moH6d: $data["\x73\x69\x73\167\x61\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto jrUNh; UmuHF: $this->load->view("\x6d\141\163\x74\x65\162\x2f\153\145\154\141\x73\x2f\x64\x65\164\141\x69\x6c"); goto a4SbB; Zkfnm: $tp = $this->dashboard->getTahunActive(); goto guidh; E2g0k: $data["\164\160\137\x61\143\x74\151\166\x65"] = $tp; goto PDh3r; K2h8e: $data["\x67\x75\162\165"] = $this->kelas->get_guru(); goto moH6d; bAfoZ: $data["\x6c\x65\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto K2h8e; AX0ux: } public function add() { goto ZBUXG; FABXj: $this->load->view("\137\164\145\x6d\x70\x6c\x61\164\x65\x73\x2f\144\141\x73\x68\142\x6f\141\162\144\57\x5f\x66\157\x6f\x74\145\x72"); goto cCXxk; aVyDR: $data["\x67\165\162\x75"] = $this->kelas->get_guru(); goto ex5ew; ruN_0: $data["\x74\160\x5f\x61\x63\x74\x69\166\145"] = $tp; goto d8gbo; GCavl: $smt = $this->dashboard->getSemesterActive(); goto f73t5; HJtWq: $data["\x6a\x75\162\x75\163\x61\156"] = $this->kelas->get_jurusan(); goto WLGbL; d8gbo: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto yespM; V8d8L: $setting = $this->dashboard->getSetting(); goto rKG03; ZBUXG: $user = $this->ion_auth->user()->row(); goto V8d8L; WLGbL: $data["\154\x65\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto aVyDR; Tw2se: $data["\163\151\163\167\141\x6b\145\154\x61\163"] = array(); goto iJbk8; BvUIy: $data["\x73\x69\x73\x77\141"] = $siswa; goto Tw2se; iJbk8: $this->load->view("\137\x74\x65\155\160\x6c\x61\164\145\x73\57\x64\141\x73\x68\142\x6f\141\162\144\57\x5f\x68\x65\x61\x64\145\x72", $data); goto fH5JZ; f73t5: $data["\164\160"] = $this->dashboard->getTahun(); goto ruN_0; yespM: $data["\x73\x6d\x74\137\x61\143\164\x69\166\145"] = $smt; goto wSi_q; rKG03: $data = ["\165\163\145\162" => $user, "\152\x75\144\x75\154" => "\113\145\x6c\x61\163", "\x73\x75\x62\152\x75\x64\x75\x6c" => "\124\x61\155\142\141\x68\40\x4b\145\x6c\x61\x73", "\x73\145\x74\164\x69\156\x67" => $setting]; goto DiBTK; wSi_q: $data["\x70\x72\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto sAahh; sAahh: $data["\153\x65\x6c\141\163"] = json_decode(json_encode($this->kelas->dummy())); goto HJtWq; fH5JZ: $this->load->view("\155\141\x73\164\x65\162\x2f\x6b\145\154\141\x73\x2f\x61\144\144"); goto FABXj; DiBTK: $tp = $this->dashboard->getTahunActive(); goto GCavl; ex5ew: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto BvUIy; cCXxk: } public function edit($id = '') { goto pOhJ7; iOlIZ: $data["\x73\151\163\167\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto a95oV; Or27S: $data["\x74\x70"] = $this->dashboard->getTahun(); goto edw0j; DiqFd: $tp = $this->dashboard->getTahunActive(); goto k9HPp; IXrVN: $setting = $this->dashboard->getSetting(); goto XYzxv; YgucS: $data["\163\155\164\137\x61\143\x74\151\x76\145"] = $smt; goto y7iJj; pOhJ7: $user = $this->ion_auth->user()->row(); goto IXrVN; zpEhJ: $data["\152\165\162\x75\163\x61\156"] = $this->kelas->get_jurusan(); goto ur6Af; y1mDC: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto YgucS; k9HPp: $smt = $this->dashboard->getSemesterActive(); goto Or27S; ur6Af: $data["\154\145\x76\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto Ai5V2; a95oV: $data["\163\x69\x73\x77\x61\153\x65\x6c\141\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto p5iW9; p5iW9: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\164\145\163\57\144\141\163\150\142\157\141\x72\144\57\x5f\x68\x65\x61\144\x65\162", $data); goto knMZP; y7iJj: $data["\160\x72\x6f\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto Nf2a4; edw0j: $data["\x74\x70\x5f\x61\x63\164\151\166\x65"] = $tp; goto y1mDC; XYzxv: $data = ["\x75\163\145\162" => $user, "\152\165\144\x75\x6c" => "\x4b\x65\154\x61\x73", "\x73\x75\x62\x6a\165\144\x75\x6c" => "\x45\x64\151\x74\x20\x4b\145\154\x61\163", "\x73\145\164\x74\151\x6e\x67" => $setting]; goto DiqFd; Ai5V2: $data["\x67\165\162\x75"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto iOlIZ; CmD3i: $this->load->view("\137\164\x65\x6d\x70\x6c\141\x74\x65\163\57\144\x61\163\x68\142\157\141\x72\144\x2f\137\x66\157\157\x74\x65\162"); goto zGisF; knMZP: $this->load->view("\155\x61\163\x74\145\x72\57\x6b\x65\x6c\x61\x73\57\x61\144\x64"); goto CmD3i; D8f16: $data["\x6b\145\x6c\x61\x73"] = $this->kelas->get_one($id); goto zpEhJ; Nf2a4: $data["\x69\x64\137\153\x65\154\x61\x73"] = $id; goto D8f16; zGisF: } public function save() { goto uVEdr; kKYnI: goto jjfNI; goto esSCm; ihnHE: UJZ1x: goto pXRAh; AfpeV: G4Pi7: goto donZB; nwkZv: if ($id != null && $id != '') { goto fi5hc; } goto b_rVO; yhwPH: $jumlah = serialize($siswakelas); goto uAfWL; mVxBd: goto MKAFp; goto bu3hR; Kxblk: lQw4n: goto dM6EX; d7cAT: $id_new = $this->db->insert_id(); goto Xv4jc; LCMaI: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto dsyyY; bu3hR: fi5hc: goto FdW4M; lFc3n: array_push($siswakelas, ["\151\144" => $id_siswa]); goto kbFV2; T2VM6: $i++; goto V2SwR; Z9GVU: $insert = []; goto aBk8A; TkNiS: if (!$status) { goto vC9um; } goto xvEoG; OV8gw: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto JhW6F; EoM6c: $id_smt = $this->master->getSemesterActive()->id_smt; goto uLACi; aBk8A: if (!($id != null && $id != '')) { goto W_3F0; } goto OV8gw; X3UXR: $status = FALSE; goto Ie_u2; xnxGk: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\151\144\x5f\x6b\x65\154\141\x73\x5f\163\x69\163\167\x61" => $id_tp . $id_smt . $id_siswa, "\x69\144\x5f\164\x70" => $id_tp, "\151\144\x5f\x73\155\x74" => $id_smt, "\151\x64\x5f\x6b\145\x6c\141\163" => 0, "\x69\x64\137\163\x69\x73\167\141" => $id_siswa]; wWf1P: } goto scFsR; odHFJ: pLsVf: goto YsiNP; p0x7U: j1sID: goto lQfeu; kbFV2: YQwKa: goto kN90A; LUMZ8: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto LCMaI; kN90A: Ca2Nw: goto T2VM6; Zu5fO: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto iEQRE; dM6EX: if (!($i <= count($siswas))) { goto BMZdr; } goto Zu5fO; Ie_u2: goto pGdlS; goto o1t8I; xvEoG: $this->db->set("\x69\x64\x5f\x6b\x65\154\x61\x73", $id); goto k_2hS; dsyyY: if (!($idsiswa != null)) { goto HvLNG; } goto xSP1b; GKqu_: $data["\x73\164\141\164\165\163"] = $status; goto BnqjR; pXRAh: MKAFp: goto X9X0X; MRLGD: $status = $this->db->insert("\155\141\163\164\x65\162\137\x6b\x65\154\141\163", $insert); goto d7cAT; hdQLC: $status = $this->db->update("\x6d\141\x73\x74\145\x72\137\x6b\145\154\141\163", $insert); goto ihnHE; Xv4jc: pGdlS: goto mVxBd; Nvg9_: $status = FALSE; goto jO9Cj; k_2hS: $this->db->where("\x69\x64\x5f\152\x61\x62\x61\164\x61\156\137\147\165\x72\x75", $guru_id . $id_tp . $id_smt); goto r_iNx; zmcx2: jjfNI: goto gMPux; wF4cT: $data["\x69\x6e\x73\145\162\164"] = $insert; goto AfpeV; V0xOr: W_3F0: goto Vmf2B; gMPux: if (!($i <= count($siswas))) { goto hzep0; } goto LUMZ8; BnqjR: $this->output_json($data); goto VmhYl; esSCm: hzep0: goto VQ2ln; QFL2A: $siswakelas = []; goto LDKO0; GlV5_: $this->db->where("\x69\x64\x5f\153\145\x6c\141\x73", $id); goto hdQLC; VQ2ln: foreach ($insert as $ins) { goto UbR27; UbR27: if (!$this->db->replace("\153\145\154\x61\x73\137\163\x69\163\167\x61", $ins)) { goto r_yd9; } goto rKVqX; zDvxD: aVe2k: goto LwYyo; seRTJ: r_yd9: goto zDvxD; rKVqX: $siswa_inserted++; goto seRTJ; LwYyo: } goto ly09M; ly09M: KIMlJ: goto wF4cT; isZ5c: $insert[$id_tp . $id_smt . $idsiswa] = ["\x69\x64\x5f\x6b\145\154\141\163\x5f\163\x69\x73\x77\x61" => $id_tp . $id_smt . $idsiswa, "\151\x64\137\164\160" => $id_tp, "\x69\144\137\163\x6d\x74" => $id_smt, "\x69\144\137\153\145\x6c\141\x73" => $new_id_kelas, "\x69\x64\x5f\163\151\x73\x77\141" => $idsiswa]; goto v_aXX; FdW4M: $this->form_validation->set_rules($config); goto ZMiiQ; X9X0X: $updated = false; goto dV_wz; V2SwR: goto lQw4n; goto B4z_O; mdsVY: u9P1H: goto IYEwu; eArx8: $id_tp = $this->master->getTahunActive()->id_tp; goto EoM6c; B4z_O: BMZdr: goto yhwPH; LDKO0: $i = 0; goto Kxblk; scFsR: xzjek: goto yh_Cb; v_aXX: goto j1sID; goto odHFJ; ZMiiQ: if ($this->form_validation->run() == TRUE) { goto Hlwi4; } goto Nvg9_; b_rVO: $this->form_validation->set_rules($config); goto bGE88; npXks: if (!$updated) { goto G4Pi7; } goto Z9GVU; xSP1b: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto pLsVf; } goto isZ5c; jO9Cj: goto UJZ1x; goto mZUPw; o1t8I: uoeER: goto MRLGD; lQfeu: HvLNG: goto mdsVY; r_iNx: $updated = $this->db->update("\x6a\x61\142\x61\x74\141\x6e\137\147\165\x72\165"); goto npXks; iEQRE: if (!($id_siswa != null)) { goto YQwKa; } goto lFc3n; YsiNP: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\137\153\145\154\x61\x73"] = $new_id_kelas; goto p0x7U; uVEdr: $id = $this->input->post("\151\144\137\x6b\145\154\141\163", true); goto mUCYA; donZB: vC9um: goto nhGEt; yh_Cb: eWVJi: goto V0xOr; nhGEt: $data["\163\x69\x73\167\141"] = $siswa_inserted; goto bYxnU; uLACi: $siswas = $this->input->post("\163\151\163\167\141", true); goto tZKHQ; tZKHQ: $config = array(array("\x66\x69\145\x6c\144" => "\x6e\x61\155\x61\x5f\153\145\x6c\x61\163", "\154\x61\x62\x65\x6c" => "\116\141\x6d\141\x20\113\x65\154\141\163", "\162\x75\x6c\x65\x73" => "\x74\x72\x69\155"), array("\x66\x69\x65\x6c\x64" => "\153\x6f\x64\x65\137\153\x65\154\x61\163", "\x6c\x61\142\x65\x6c" => "\x4b\x6f\144\x65\x20\x4b\145\154\x61\x73", "\162\x75\154\145\x73" => "\164\x72\x69\155"), array("\146\x69\145\x6c\144" => "\x6a\165\x72\165\163\141\x6e\137\x69\144", "\x6c\x61\x62\x65\x6c" => "\112\x75\162\x75\x73\141\x6e", "\x72\165\154\145\x73" => "\x74\162\x69\x6d"), array("\146\x69\x65\x6c\144" => "\154\x65\166\145\154\137\x69\x64", "\154\141\x62\145\154" => "\x4c\145\x76\145\154", "\x72\x75\x6c\x65\163" => "\164\162\151\155"), array("\x66\151\x65\154\144" => "\x67\165\162\165\137\151\144", "\x6c\x61\142\x65\154" => "\107\165\162\165", "\x72\x75\x6c\x65\x73" => "\164\162\151\155"), array("\146\151\x65\x6c\x64" => "\x73\x69\x73\167\141\x5f\151\144", "\154\141\142\x65\154" => "\x53\x69\163\167\141", "\x72\x75\154\145\x73" => "\x74\162\x69\155")); goto QFL2A; bGE88: if ($this->form_validation->run() == TRUE) { goto uoeER; } goto X3UXR; mZUPw: Hlwi4: goto GlV5_; IYEwu: $i++; goto kKYnI; dV_wz: $siswa_inserted = 0; goto TkNiS; JhW6F: if (!(count($siswa_kelas) > 0)) { goto eWVJi; } goto xnxGk; bYxnU: $data["\165\160\x64\x61\x74\145"] = $updated; goto GKqu_; DvyTZ: $id_new = null; goto nwkZv; Vmf2B: $i = 0; goto zmcx2; mUCYA: $guru_id = strip_tags($this->input->post("\147\165\x72\x75\x5f\151\144", TRUE)); goto eArx8; uAfWL: $insert = array("\156\141\x6d\x61\137\153\145\154\141\x73" => strip_tags($this->input->post("\x6e\x61\x6d\x61\x5f\x6b\x65\154\x61\x73", TRUE)), "\153\x6f\x64\145\x5f\153\145\154\x61\x73" => strip_tags($this->input->post("\x6b\x6f\x64\145\x5f\153\x65\154\141\x73", TRUE)), "\152\165\x72\165\x73\141\x6e\137\151\x64" => strip_tags($this->input->post("\x6a\165\162\x75\x73\x61\156\x5f\151\x64", TRUE)), "\151\144\137\164\160" => $id_tp, "\x69\144\x5f\163\155\164" => $id_smt, "\154\145\x76\145\154\137\151\144" => strip_tags($this->input->post("\x6c\145\x76\x65\x6c\x5f\151\144", TRUE)), "\x67\165\x72\165\137\x69\144" => strip_tags($this->input->post("\x67\165\162\x75\137\x69\144", TRUE)), "\x73\151\163\x77\x61\x5f\151\x64" => strip_tags($this->input->post("\163\151\163\167\141\137\151\144", TRUE)), "\152\x75\155\154\141\150\x5f\x73\151\x73\x77\x61" => $jumlah); goto DvyTZ; VmhYl: } public function update_kelas($id) { goto OBMPf; IBU5Y: foreach ($siswakelas as $id_siswa => $sis) { goto arcAO; uTV3O: IhcJK: goto IZqJY; arcAO: $insert = ["\x69\144\137\x6b\x65\154\141\x73\x5f\163\x69\x73\x77\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\160" => $id_tp, "\x69\x64\x5f\163\x6d\x74" => $id_smt, "\151\x64\137\153\145\154\x61\163" => 0, "\x69\144\x5f\163\x69\x73\x77\x61" => $id_siswa]; goto LJlJL; LJlJL: $this->db->replace("\x6b\145\154\x61\x73\137\x73\151\163\167\x61", $insert); goto uTV3O; IZqJY: } goto cJqgr; quqFp: Ptv9F: goto ulkXd; wep5c: gTomS: goto P_jkZ; SKZVA: if (!($i <= $rowsSelect)) { goto ho3rT; } goto Ez0j4; i0bZW: ho3rT: goto i1vB5; i1vB5: return $siswakelas; goto TrJy4; DvBm1: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto KgMFn; P_jkZ: EUrBK: goto W0a_q; nTIwb: if (!($id_siswa != null)) { goto gTomS; } goto Td6Al; W0a_q: $i++; goto Bw99K; Ez0j4: $id_siswa = $this->input->post("\x73\x69\x73\x77\x61\133" . $i . "\135", true); goto nTIwb; KgMFn: if (!(count($siswakelas) > 0)) { goto Ptv9F; } goto IBU5Y; Bw99K: goto TKuLK; goto i0bZW; OBMPf: $id_tp = $this->master->getTahunActive()->id_tp; goto qInwD; cJqgr: LP_mn: goto quqFp; qInwD: $id_smt = $this->master->getSemesterActive()->id_smt; goto DvBm1; ulkXd: $rowsSelect = count($this->input->post("\163\x69\x73\x77\141", true)); goto pSY9G; Td6Al: $insert = ["\151\144\137\153\145\154\141\163\x5f\x73\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\x74\x70" => $id_tp, "\151\144\x5f\163\x6d\164" => $id_smt, "\151\144\137\153\x65\x6c\141\x73" => $id, "\151\144\137\x73\x69\163\167\141" => $id_siswa]; goto vhTMz; pSY9G: $i = 0; goto lWmHN; vhTMz: $this->db->replace("\153\145\154\x61\x73\137\163\x69\x73\167\x61", $insert); goto wep5c; lWmHN: TKuLK: goto SKZVA; TrJy4: } public function manage() { goto Se1hq; XEG1P: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto t86G7; niGvn: $data = ["\165\x73\x65\x72" => $user, "\152\x75\144\165\154" => "\103\157\160\171\x20\x4b\145\x6c\141\x73", "\x73\165\x62\x6a\x75\144\165\x6c" => "\x43\157\160\x79\x20\x44\141\x74\x61\40\x4b\x65\x6c\141\x73\40\x6b\x65\x20\123\115\124\x20\111\111", "\x73\145\x74\164\x69\156\x67" => $this->dashboard->getSetting()]; goto Yn6lU; Se1hq: $user = $this->ion_auth->user()->row(); goto niGvn; t86G7: $data["\x73\155\x74\x5f\x61\143\164\x69\x76\145"] = $smt; goto q9vKm; cow4K: $this->load->view("\x5f\164\x65\x6d\160\154\141\x74\145\163\57\x64\x61\x73\x68\x62\x6f\141\x72\144\57\x5f\150\x65\x61\x64\145\162", $data); goto oElPB; DzdLn: $data["\x6b\145\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto fzxRL; oElPB: $this->load->view("\x6d\x61\x73\164\x65\162\x2f\153\x65\154\141\163\57\x70\145\162\163\x65\x6d\x65\x73\x74\x65\x72"); goto dKXvb; fzxRL: $data["\153\x65\x6c\x61\x73\62"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto cow4K; Yn6lU: $tp = $this->dashboard->getTahunActive(); goto KrTxE; dKXvb: $this->load->view("\137\164\145\x6d\x70\x6c\141\x74\145\163\57\144\x61\163\150\142\157\141\x72\x64\57\137\x66\157\x6f\x74\145\162"); goto D4lDe; KrTxE: $smt = $this->dashboard->getSemesterActive(); goto rC1_f; q9vKm: $data["\x70\162\157\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto DzdLn; rC1_f: $data["\x74\x70"] = $this->dashboard->getTahun(); goto LWi1H; LWi1H: $data["\164\x70\x5f\x61\143\x74\x69\x76\x65"] = $tp; goto XEG1P; D4lDe: } public function getFromSmt1($kelas) { goto mpUgc; ysPIO: xy0tn: goto H2GiD; qH1fw: $this->output_json(["\163\x6d\164\61" => $data1, "\163\155\x74\62" => $ids]); goto r0XGQ; mpUgc: $tp = $this->dashboard->getTahunActive(); goto PqRoe; fVHse: $ids = []; goto fsZZP; dTWob: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto fVHse; PqRoe: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto dTWob; fsZZP: if (!(count($data2) > 0)) { goto E5RMA; } goto qZraA; qZraA: foreach ($data2 as $s) { $ids[] = $s->id_siswa; Y5MQN: } goto ysPIO; H2GiD: E5RMA: goto qH1fw; r0XGQ: } public function copyFromSmt1() { goto mP8Mb; mP8Mb: $tp = $this->dashboard->getTahunActive(); goto bWsfQ; MAJE0: $idk = $this->db->insert_id(); goto t7TX1; VGmNP: $kelas1 = $this->input->post("\153\145\154\x61\163\137\154\x61\x6d\141", true); goto T6QC0; dZUc8: $data = array("\156\x61\155\141\137\153\145\x6c\141\x73" => $kelas2, "\x6b\x6f\144\x65\x5f\153\145\154\141\x73" => $kelas->kode_kelas, "\x6a\165\x72\165\163\x61\x6e\137\151\144" => $kelas->jurusan_id, "\151\144\137\x74\160" => $tp->id_tp, "\151\144\x5f\163\155\164" => $smt->id_smt, "\154\x65\166\145\x6c\137\x69\144" => $kelas->level_id, "\x67\165\162\x75\137\x69\x64" => $kelas->guru_id, "\163\x69\x73\x77\141\137\151\144" => $kelas->siswa_id, "\152\165\155\x6c\x61\150\137\x73\151\x73\167\x61" => $kelas->jumlah_siswa); goto v6Bz7; v6Bz7: $this->db->insert("\155\x61\x73\164\x65\162\x5f\153\145\x6c\141\x73", $data); goto MAJE0; ywS9F: ODdWb: goto UM8vt; MTc1U: foreach ($arrSiswa as $value) { goto fAHBn; dfC_L: $insert = ["\151\144\137\x6b\145\154\x61\163\x5f\163\151\x73\167\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\x64\137\x74\160" => $tp->id_tp, "\x69\144\x5f\163\x6d\x74" => $smt->id_smt, "\x69\x64\137\x6b\x65\x6c\141\x73" => $idk, "\151\144\137\x73\151\163\167\141" => $id_siswa]; goto rThdT; EV8hp: if (!($id_siswa != null)) { goto BoUv5; } goto dfC_L; Z5uvp: LH4GF: goto pbjOx; rThdT: $res[] = $this->db->replace("\x6b\x65\x6c\x61\163\137\x73\151\163\x77\141", $insert); goto CtmRf; CtmRf: BoUv5: goto Z5uvp; fAHBn: $id_siswa = $value["\151\x64"]; goto EV8hp; pbjOx: } goto ywS9F; Fr8Vr: $arrSiswa = unserialize($kelas->jumlah_siswa); goto MTc1U; t7TX1: $res = []; goto Fr8Vr; SNfPl: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\x31"); goto dZUc8; UM8vt: $this->output_json($res); goto Qk2_W; bWsfQ: $smt = $this->dashboard->getSemesterActive(); goto VGmNP; T6QC0: $kelas2 = $this->input->post("\x6b\145\x6c\x61\x73\137\142\x61\x72\x75", true); goto SNfPl; Qk2_W: } public function copySiswaFromSmt1() { goto rllmi; Z4US0: foreach ($posts as $d) { goto WmZTg; y279L: $siswakelas[$d->id_kelas][] = ["\x69\144" => $d->id_siswa]; goto NA6no; NA6no: oYw4n: goto FmO09; WmZTg: $idkelases[] = $d->id_kelas; goto y279L; FmO09: } goto I18dY; nG9i2: $posts = json_decode($this->input->post("\x6b\145\154\141\163", true)); goto GlqN6; I18dY: sS5ze: goto JlVMP; rllmi: $tp = $this->dashboard->getTahunActive(); goto hl_L5; LPqcU: $res = []; goto pQXOj; pQXOj: foreach ($idkelases as $ik) { goto qkf6O; qkf6O: if (!($ik != '')) { goto M8QV0; } goto g7sMc; CnB0h: $jumlah = serialize($siswakelas[$ik]); goto A_e11; eIoth: Q1XTx: goto uVx9b; kkcrO: zwZ0u: goto CdmLO; w38Ba: $this->db->insert("\x6d\141\163\164\145\162\137\x6b\145\154\141\163", $data); goto e14Hi; A_e11: $data = array("\x6e\141\155\x61\137\x6b\x65\x6c\x61\x73" => $kelas->nama_kelas, "\x6b\x6f\x64\x65\137\153\145\154\141\163" => $kelas->kode_kelas, "\x6a\165\x72\165\163\x61\156\x5f\151\x64" => $kelas->jurusan_id, "\151\144\137\x74\x70" => $tp->id_tp, "\151\144\x5f\x73\155\x74" => $smt->id_smt, "\x6c\145\x76\x65\x6c\137\151\x64" => $kelas->level_id, "\147\165\162\x75\x5f\x69\144" => $kelas->guru_id, "\x73\151\163\x77\141\137\151\144" => $kelas->siswa_id, "\x6a\x75\155\154\x61\150\137\163\151\163\x77\x61" => $jumlah); goto w38Ba; CdmLO: M8QV0: goto eIoth; e14Hi: $idk = $this->db->insert_id(); goto wHeuf; g7sMc: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\61"); goto CnB0h; wHeuf: foreach ($siswakelas[$ik] as $s) { goto xloFe; IGkEO: $res[] = $this->db->replace("\x6b\x65\x6c\141\x73\137\x73\151\x73\167\141", $insert); goto c8Acv; xloFe: $insert = ["\151\x64\137\x6b\x65\x6c\141\x73\x5f\163\x69\163\x77\x61" => $tp->id_tp . $smt->id_smt . $s["\151\x64"], "\151\144\x5f\164\160" => $tp->id_tp, "\151\x64\137\163\155\x74" => $smt->id_smt, "\x69\144\137\x6b\145\x6c\x61\x73" => $idk, "\151\x64\x5f\163\x69\x73\167\141" => $s["\x69\144"]]; goto IGkEO; c8Acv: ywLaR: goto Sm5Zc; Sm5Zc: } goto kkcrO; uVx9b: } goto jZNVy; WHDYN: $this->output_json($res); goto DtXW0; jZNVy: aTLzy: goto WHDYN; GlqN6: $idkelases = []; goto O1shw; hl_L5: $smt = $this->dashboard->getSemesterActive(); goto nG9i2; O1shw: $siswakelas = []; goto Z4US0; JlVMP: $idkelases = array_unique($idkelases); goto LPqcU; DtXW0: } public function kenaikan() { goto HyS8V; urard: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto HKUhQ; qDpIa: ZqdEW: goto E31J4; LDGgM: $smt = $this->dashboard->getSemesterActive(); goto yN0Xa; rR_og: $this->load->view("\x5f\x74\x65\x6d\160\154\x61\164\x65\163\x2f\x64\x61\163\150\x62\x6f\x61\x72\144\57\x5f\x66\x6f\157\x74\x65\x72"); goto YHVKI; LTQmq: $level = $setting->jenjang == "\x31" ? "\66" : ($setting->jenjang == "\x32" ? "\x39" : ($setting->jenjang == "\61" ? "\x33" : "\x31\62")); goto x9paQ; x9paQ: $data["\153\x65\x6c\141\163\137\154\141\155\x61"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\x21\75" . $level); goto VheEQ; sz6Za: $data["\x73\x6d\164\137\x61\x63\x74\x69\x76\x65"] = $smt; goto vv74X; NP0mK: $data["\163\x69\163\x77\x61\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\x32"); goto cfkEX; nGEXj: $data["\x74\x70\137\x61\143\164\x69\x76\145"] = $tp; goto pOrk7; vv74X: $data["\x70\x72\x6f\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto LTQmq; tqopn: if (!($kelas != null)) { goto ZqdEW; } goto iaoaV; yN0Xa: $data["\164\160"] = $this->dashboard->getTahun(); goto nGEXj; YcfGv: $this->load->view("\x6d\x61\163\164\145\162\x2f\x6b\x65\154\x61\163\x2f\x6e\x61\x69\153\153\x65\154\x61\x73"); goto rR_og; VheEQ: $data["\x6b\x65\154\x61\163\137\x62\x61\162\165"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto tqopn; E31J4: $this->load->view("\x5f\x74\x65\x6d\x70\x6c\141\x74\x65\x73\x2f\x64\141\163\x68\142\157\x61\x72\x64\x2f\x5f\x68\x65\141\x64\x65\162", $data); goto YcfGv; U6m0g: $data = ["\165\163\x65\x72" => $user, "\152\x75\x64\x75\x6c" => "\113\x65\x6e\x61\x69\x6b\x6b\141\x6e\x20\113\145\154\x61\163", "\x73\165\142\152\165\144\165\154" => "\x4e\141\151\153\x20\113\145\x6c\x61\163\x20\123\151\x73\167\141", "\163\x65\x74\164\x69\x6e\x67" => $setting]; goto A8pzT; p6dpH: $user = $this->ion_auth->user()->row(); goto LVz50; pOrk7: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto sz6Za; cfkEX: $data["\153\x65\x6c\141\163\137\163\x65\x6c\x65\143\x74\145\x64"] = $kelas; goto urard; HyS8V: $kelas = $this->input->get("\x6b\145\154\141\x73", true); goto p6dpH; iaoaV: $data["\x73\151\x73\x77\x61\137\x6b\x65\154\141\x73\x5f\142\x61\x72\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto NP0mK; A8pzT: $tp = $this->dashboard->getTahunActive(); goto LDGgM; HKUhQ: $data["\153\145\x6c\x61\163\145\x73"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\x3d" . ($lvlKls->level_id + 1)); goto qDpIa; LVz50: $setting = $this->dashboard->getSetting(); goto U6m0g; YHVKI: } public function naikKelas() { goto TGqj4; vFoIR: $smt = $this->dashboard->getSemesterActive(); goto eStej; Qr_Go: $idkelases = []; goto fi4CF; DJIDY: $idkelases = array_unique($idkelases); goto S2hPV; WV9B_: $mode = $this->input->post("\155\x6f\144\x65", true); goto Qr_Go; fi4CF: $siswakelas = []; goto Nrl3E; eStej: $posts = json_decode($this->input->post("\x6b\x65\x6c\141\x73", true)); goto WV9B_; WYe2l: $data["\162\x65\163"] = $siswakelas; goto eFO2z; TGqj4: $tp = $this->dashboard->getTahunActive(); goto vFoIR; M7rgt: XH2ej: goto WYe2l; eFO2z: $this->output_json($data); goto YT4FH; BoIJn: aX2lr: goto DJIDY; S2hPV: $res = []; goto sKokR; Ix2Bd: foreach ($idkelases as $ik) { goto dvNfz; lLLT8: PjJ7m: goto RLzs9; eenOi: $this->db->update("\x6d\x61\x73\164\145\x72\137\x6b\x65\154\x61\x73", $data); goto lJLt8; U1oV0: $data = array("\156\141\x6d\x61\x5f\153\145\x6c\141\x73" => $kelas->nama_kelas, "\x6b\157\x64\145\137\153\x65\154\x61\x73" => $kelas->kode_kelas, "\x6a\165\x72\x75\x73\x61\156\137\151\144" => $kelas->jurusan_id, "\151\x64\137\x74\160" => $tp->id_tp, "\x69\x64\137\x73\155\x74" => $smt->id_smt, "\154\x65\166\x65\154\x5f\x69\144" => $kelas->level_id, "\x67\x75\x72\x75\x5f\151\x64" => $kelas->guru_id, "\163\151\x73\x77\x61\137\x69\x64" => $kelas->siswa_id, "\152\165\155\x6c\141\150\x5f\x73\151\x73\167\141" => $jumlah); goto FrG2e; uIO1g: $data = array("\x6e\141\x6d\x61\137\153\145\x6c\x61\163" => $kelas->nama_kelas, "\x6b\157\x64\x65\137\153\145\x6c\x61\x73" => $kelas->kode_kelas, "\152\165\162\165\163\141\156\x5f\151\144" => $kelas->jurusan_id, "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\x64\x5f\x73\155\164" => $smt->id_smt, "\x6c\x65\166\x65\x6c\x5f\x69\x64" => $kelas->level_id, "\147\x75\x72\x75\137\151\144" => $kelas->guru_id, "\x73\151\x73\x77\141\137\151\x64" => $kelas->siswa_id, "\152\x75\155\154\141\x68\x5f\x73\x69\163\167\x61" => $jumlah); goto kK7cL; mVUbb: mSeD6: goto FvZXn; Ey2Mr: array_push($idks, $this->db->insert_id()); goto k27gz; HLbnY: $jumlah = serialize($siswakelas[$ik]); goto U1oV0; lBVcE: foreach ($siswakelas[$ik] as $s) { goto nfDS3; nfDS3: foreach ($jmlLama as $lama) { goto R4Jq8; HVSKz: array_push($jmlLama, ["\151\144" => $s["\x69\x64"]]); goto ypSc3; ZYsN3: x2jPF: goto hhAVn; hhAVn: KtFXa: goto lH7Vq; ypSc3: array_push($idks, $kelas_baru->id_kelas); goto ZYsN3; R4Jq8: if (!($lama["\151\144"] != $s["\151\144"])) { goto x2jPF; } goto HVSKz; lH7Vq: } goto vSwkB; C7raj: aRY_U: goto d43L7; vSwkB: Sjj5Z: goto C7raj; d43L7: } goto sCwtZ; sCwtZ: V9xjH: goto cEh97; FrG2e: $this->db->insert("\155\x61\x73\164\145\x72\x5f\x6b\145\x6c\x61\163", $data); goto Ey2Mr; jwx_O: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto VLrWk; HhPPc: jH6b9: goto uIO1g; cEh97: $jumlah = serialize($jmlLama); goto HhPPc; hdhc1: foreach ($idks as $idk) { goto zX9K2; zX9K2: foreach ($siswakelas[$ik] as $s) { goto YON0w; wuAam: fsFuq: goto ySVNi; YON0w: $insert = ["\x69\x64\137\x6b\145\x6c\141\x73\137\x73\x69\163\167\141" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\151\144\137\164\160" => $tp->id_tp, "\151\x64\137\x73\x6d\164" => $smt->id_smt, "\151\144\137\153\x65\x6c\141\163" => $idk, "\151\144\x5f\x73\x69\x73\167\x61" => $s["\151\144"]]; goto AtSf9; AtSf9: $res[] = $this->db->replace("\153\145\x6c\x61\163\137\x73\x69\x73\167\141", $insert); goto wuAam; ySVNi: } goto d1_B_; d1_B_: PuVEl: goto SdC12; SdC12: cfje3: goto UCnWm; UCnWm: } goto qfc_c; qfc_c: QQzwo: goto lLLT8; OoLel: array_push($idks, $kelas_baru->id_kelas); goto wDXVe; VLrWk: if ($kelas_baru == null) { goto oC4Xq; } goto gogX1; k27gz: RnGcc: goto hdhc1; gogX1: if ($mode == "\160\145\162\x73\151\163\x77\x61") { goto mSeD6; } goto Y7glJ; FvZXn: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto lBVcE; dvNfz: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto jwx_O; kK7cL: $this->db->where("\151\x64\137\153\x65\154\141\x73", $kelas_baru->id_kelas); goto eenOi; Y7glJ: $jumlah = serialize($siswakelas[$ik]); goto OoLel; wDXVe: goto jH6b9; goto mVUbb; lJLt8: goto RnGcc; goto eMwJy; eMwJy: oC4Xq: goto HLbnY; RLzs9: } goto M7rgt; sKokR: $idks = []; goto Ix2Bd; Nrl3E: foreach ($posts as $d) { goto lTcxD; WR_SM: $siswakelas[$d->kelas_baru][] = ["\x69\144" => $d->id_siswa]; goto wnP4s; lTcxD: $idkelases[] = $d->kelas_baru; goto WR_SM; wnP4s: VvvLx: goto b4V6H; b4V6H: } goto BoIJn; YT4FH: } public function hapus($id_kelas) { goto rNhMj; he4CY: $delete["\153\145\154\x61\163"] = $this->master->delete("\155\141\163\164\x65\162\137\x6b\x65\154\x61\163", $id_kelas, "\151\x64\137\x6b\145\154\x61\163"); goto FHYKG; FHYKG: $this->output_json($delete); goto Ouapx; rNhMj: $delete["\163\151\x73\x77\x61"] = $this->master->delete("\153\145\154\x61\x73\x5f\163\x69\x73\x77\141", $id_kelas, "\151\x64\x5f\x6b\145\154\141\163"); goto he4CY; Ouapx: } }
