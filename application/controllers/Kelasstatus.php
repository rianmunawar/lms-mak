<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto BGXqd; lBeHv: redirect("\141\x75\164\150"); goto HKAZ6; xELeV: $this->load->library(["\x64\x61\164\141\164\141\x62\154\145\x73", "\x66\157\162\x6d\137\166\141\154\151\x64\141\x74\151\157\x6e"]); goto iAT2Z; rJ8Qz: if (!$this->ion_auth->logged_in()) { goto py9nv; } goto BSYQ1; iAT2Z: $this->load->model("\115\x61\163\164\145\162\x5f\x6d\x6f\x64\x65\x6c", "\155\141\x73\x74\145\x72"); goto Lcuds; HKAZ6: B7idy: goto xELeV; bxLEm: $this->load->model("\x44\x72\157\x70\144\157\167\156\137\155\157\144\145\154", "\144\x72\157\x70\144\x6f\167\x6e"); goto hryZq; r3ox7: ygihi: goto JJHJ4; SOBV_: py9nv: goto lBeHv; JJHJ4: goto B7idy; goto SOBV_; d9STJ: show_error("\x48\141\x6e\x79\x61\x20\101\144\155\x69\x6e\x69\163\164\x72\141\164\x6f\x72\40\171\141\156\x67\40\x64\151\142\x65\162\151\x20\x68\141\153\40\x75\x6e\164\165\153\x20\x6d\x65\x6e\x67\x61\153\163\x65\163\x20\150\141\154\x61\155\141\156\40\151\156\151\x2c\x20\74\x61\x20\x68\162\145\x66\x3d\42" . base_url("\144\x61\163\x68\142\x6f\x61\x72\144") . "\x22\76\113\145\155\142\141\x6c\151\40\153\145\40\x6d\x65\156\165\40\x61\167\x61\154\74\x2f\141\76", 403, "\101\153\x73\x65\163\x20\124\x65\x72\x6c\141\162\x61\x6e\147"); goto r3ox7; BGXqd: parent::__construct(); goto rJ8Qz; BSYQ1: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\162\165"))) { goto ygihi; } goto d9STJ; hryZq: $this->load->model("\113\x65\154\x61\163\137\155\x6f\x64\145\x6c", "\x6b\145\154\141\163"); goto O0Hzl; Lcuds: $this->load->model("\104\x61\163\x68\142\157\x61\162\144\137\155\x6f\144\145\x6c", "\x64\x61\163\150\x62\157\141\162\x64"); goto bxLEm; O0Hzl: $this->form_validation->set_error_delimiters('', ''); goto RgV6N; RgV6N: } public function output_json($data, $encode = true) { goto J2YRE; P4v0O: $this->output->set_content_type("\141\x70\x70\154\x69\x63\x61\x74\151\x6f\x6e\57\152\163\157\x6e")->set_output($data); goto w8vml; jXlW9: $data = json_encode($data); goto e9g8Z; J2YRE: if (!$encode) { goto dl6pU; } goto jXlW9; e9g8Z: dl6pU: goto P4v0O; w8vml: } public function index() { goto KECRc; A2gSR: if (!($mapel != null)) { goto Sn3YX; } goto kiJKM; i8WVJ: $data["\x6d\x61\160\145\x6c\163"] = $arrMapel; goto Axf3y; dw57D: $this->load->view("\x6d\x65\x6d\x62\145\162\163\57\147\165\x72\x75\x2f\x74\x65\155\160\x6c\x61\164\145\163\x2f\x68\x65\x61\144\x65\x72", $data); goto TvJNY; c0q74: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto Pvb6e; n_VX3: $data["\147\165\162\165\163"] = $guru; goto z5Cyc; RIrkd: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto vBc7c; vBc7c: $nguru[$guru->id_guru] = $guru->nama_guru; goto Cpkid; QQMGt: ABOTs: goto jtYu4; kkFFF: if ($this->ion_auth->is_admin()) { goto ABOTs; } goto RIrkd; Kh8kY: $arrKelas = []; goto A2gSR; Ankor: CMmX2: goto usTLe; KECRc: $user = $this->ion_auth->user()->row(); goto Cm1He; Cpkid: $data["\x67\165\162\x75"] = $guru; goto W4duk; ECSn7: $data["\164\160\137\x61\143\x74\x69\166\145"] = $tp; goto TgLHn; yOmZh: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto c0q74; usTLe: Sn3YX: goto GI2gi; eZ1PL: LnduY: goto nOALI; D5yVC: $smt = $this->dashboard->getSemesterActive(); goto Ar1fA; Ar1fA: $data["\x74\x70"] = $this->dashboard->getTahun(); goto ECSn7; iUc50: $data["\x6d\x61\x70\145\x6c\x73"] = $this->dropdown->getAllMapel(); goto sM5tg; twaDw: ozqqK: goto CT_bD; rrDy_: $guru = $this->dropdown->getAllGuru(); goto n_VX3; W4duk: $data["\147\165\162\165\163"] = $nguru; goto hyj1B; WEehD: $this->load->view("\153\x65\154\141\x73\57\x73\x74\x61\164\165\163\57\x64\x61\x74\141"); goto gmjTr; CCgv4: $this->load->view("\155\145\155\142\145\162\163\57\x67\x75\162\x75\x2f\164\145\155\160\154\141\164\x65\163\x2f\146\157\x6f\164\145\x72"); goto GZQrp; vFBJQ: if (!($mapel != null)) { goto CZPFn; } goto zmaDk; zmaDk: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); iKZ9C: } goto eZ1PL; WQ47K: $data["\x73\155\164\137\141\143\x74\151\x76\x65"] = $smt; goto kkFFF; Cm1He: $data = ["\x75\163\x65\x72" => $user, "\152\x75\x64\x75\x6c" => "\116\151\x6c\141\151\x20\110\x61\162\151\141\156\x20\x53\x69\163\167\141", "\163\165\142\152\165\144\x75\154" => "\116\151\154\141\x69", "\163\145\164\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto QAZpR; QAZpR: $tp = $this->dashboard->getTahunActive(); goto D5yVC; TgLHn: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto WQ47K; GZQrp: goto ozqqK; goto QQMGt; hyj1B: $data["\x69\144\137\x67\165\x72\x75"] = $guru->id_guru; goto yOmZh; Axf3y: $data["\153\x65\154\x61\x73"] = $arrKelas; goto dw57D; sM5tg: $this->load->view("\x5f\164\145\x6d\x70\154\141\164\x65\x73\x2f\x64\141\163\x68\x62\157\141\x72\144\57\x5f\x68\145\x61\x64\145\x72", $data); goto WEehD; z5Cyc: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto iUc50; Pvb6e: $arrMapel = []; goto Kh8kY; kiJKM: foreach ($mapel as $m) { goto KZoKM; hRQaB: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); abwSp: } goto rMbmq; BpgPH: nsLpV: goto egdkb; rMbmq: zoYYf: goto BpgPH; KZoKM: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto hRQaB; egdkb: } goto Ankor; TvJNY: $this->load->view("\x6b\145\154\x61\163\57\163\164\x61\x74\x75\x73\x2f\144\x61\x74\x61"); goto CCgv4; gmjTr: $this->load->view("\137\x74\145\155\160\x6c\x61\164\x65\163\x2f\144\x61\163\150\x62\x6f\x61\162\144\x2f\137\146\x6f\157\x74\x65\162"); goto twaDw; GI2gi: $arrId = []; goto vFBJQ; nOALI: CZPFn: goto i8WVJ; jtYu4: $data["\x70\x72\x6f\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto rrDy_; CT_bD: } public function getMateriGuru() { goto E33Wa; NkQIz: $this->output_json(array("\155\141\x74\145\162\151" => $arrKelasMateri, "\164\x75\147\x61\163" => $arrKelasTugas)); goto iFiVD; E33Wa: $id_guru = $this->input->get("\x69\x64", true); goto DfKB2; Onwd_: foreach ($materi as $m) { goto rJraZ; kMuav: kFZUr: goto QiV37; qF449: $arrKelasMateri[] = ["\x69\144\137\155\x61\164\x65\x72\x69" => $m->id_materi, "\151\144\137\x6b\x6a\155" => $m->id_kjm, "\x6a\141\144\167\x61\x6c" => $m->jadwal_materi, "\x6b\157\144\x65" => $m->kode_materi, "\155\141\x70\145\x6c" => $kode_mapel, "\153\x65\154\x61\163" => unserialize($m->materi_kelas)]; goto kMuav; QiV37: glabn: goto wYr27; rJraZ: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto VLSYV; iPfC4: bSuYi: goto qF449; VLSYV: if ($m->jenis == "\x31") { goto bSuYi; } goto V8VWD; MN7Rx: goto kFZUr; goto iPfC4; V8VWD: $arrKelasTugas[] = ["\151\144\137\x6d\141\164\x65\162\x69" => $m->id_materi, "\151\144\x5f\x6b\152\x6d" => $m->id_kjm, "\x6a\141\144\x77\141\x6c" => $m->jadwal_materi, "\x6b\157\x64\145" => $m->kode_materi, "\155\141\160\x65\154" => $kode_mapel, "\x6b\145\154\141\x73" => unserialize($m->materi_kelas)]; goto MN7Rx; wYr27: } goto qR2G1; qR2G1: bgw53: goto NkQIz; DfKB2: $tp = $this->dashboard->getTahunActive(); goto EJJwZ; HpbO8: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto SzieR; SzieR: $arrKelasMateri = []; goto MCce5; MCce5: $arrKelasTugas = []; goto Onwd_; EJJwZ: $smt = $this->dashboard->getSemesterActive(); goto HpbO8; iFiVD: } public function getMateriMapel() { goto s4x3l; ET6K0: $arrKelas = []; goto ov_Qs; bA9GZ: $smt = $this->dashboard->getSemesterActive(); goto HMb8B; ov_Qs: foreach ($materi as $m) { goto WJ2Qo; v0pXI: $arrKelas[$m->jenis] = []; goto X16Er; Xg3DU: goto sgfg9; goto yMifh; G83HD: $arrKelasTugas[$m->id_kelas] = []; goto yO9SG; IC9EZ: if (isset($arrKelasMateri[$m->id_kelas])) { goto MgruL; } goto KQGqo; F_OeO: goto LrqMR; goto OB3kp; SrNgF: goto degNf; goto jpvUN; Ij0Sp: QX411: goto TRuhU; TRuhU: degNf: goto kQ9q_; X16Er: array_push($arrKelas[$m->jenis], $m->id_kelas); goto SrNgF; SnobP: $arrTugas = ["\151\x64\x5f\x6d\x61\x74\x65\x72\151" => $m->id_materi, "\151\144\x5f\x6b\152\x6d" => $m->id_kjm, "\152\x61\144\x77\x61\x6c" => $m->jadwal_materi, "\153\x6f\144\x65" => $m->kode_materi, "\x6d\x61\160\145\x6c" => $kode_mapel, "\x67\165\162\x75" => $m->nama_guru]; goto JmEDU; KQGqo: $arrKelasMateri[$m->id_kelas] = []; goto emImo; YUgPZ: if (isset($arrKelas[$m->jenis])) { goto vt5_s; } goto v0pXI; emImo: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto Xg3DU; YdeIh: goto lT36h; goto ctUTr; aPKzT: if ($m->jenis == "\x31") { goto f0AVi; } goto SnobP; BpuCq: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto Wp_jp; WLUlg: LrqMR: goto YdeIh; kQ9q_: AuJmF: goto feFwh; yO9SG: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto F_OeO; dc1hb: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto WLUlg; OB3kp: DBFAJ: goto dc1hb; p6dCT: $arrMateri = ["\x69\x64\137\x6d\141\x74\x65\162\151" => $m->id_materi, "\x69\x64\137\153\x6a\x6d" => $m->id_kjm, "\152\x61\x64\167\141\154" => $m->jadwal_materi, "\153\157\144\145" => $m->kode_materi, "\x6d\x61\160\x65\x6c" => $kode_mapel, "\x67\x75\162\165" => $m->nama_guru]; goto IC9EZ; jpvUN: vt5_s: goto FfvIE; WJ2Qo: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto aPKzT; CdJBw: lT36h: goto YUgPZ; JmEDU: if (isset($arrKelasTugas[$m->id_kelas])) { goto DBFAJ; } goto G83HD; FfvIE: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto QX411; } goto xUZs_; Wp_jp: sgfg9: goto CdJBw; ctUTr: f0AVi: goto p6dCT; xUZs_: array_push($arrKelas[$m->jenis], $m->id_kelas); goto Ij0Sp; yMifh: MgruL: goto BpuCq; feFwh: } goto HwElS; jsHsY: $this->output_json(array("\155\x61\164\x65\162\x69" => $arrKelasMateri, "\164\x75\147\x61\163" => $arrKelasTugas, "\x6b\145\154\141\x73" => $arrKelas)); goto ZLl1B; Iez30: $arrKelasTugas = []; goto ET6K0; HMb8B: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto CwpQ7; MmNCY: $tp = $this->dashboard->getTahunActive(); goto bA9GZ; CwpQ7: $arrKelasMateri = []; goto Iez30; HwElS: sh01K: goto jsHsY; s4x3l: $id_mapel = $this->input->get("\151\x64", true); goto MmNCY; ZLl1B: } public function loadStatus() { goto nLfRK; S12qs: $this->output_json(["\x6c\157\147" => $log, "\x6a\141\x64\167\141\154" => $info]); goto cKuu6; serih: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto p1Iry; E7vBy: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto serih; p1Iry: $log = []; goto f53zC; f53zC: foreach ($siswa as $s) { goto rp18I; Snmwt: $log[$s->id_siswa] = ["\x6e\141\155\x61" => $s->nama, "\156\x69\163" => $s->nis, "\x6b\x65\x6c\141\x73" => $s->nama_kelas, "\x6c\x6f\x67\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\x6d\x75\154\x61\151" => $mulai, "\163\145\x6c\145\163\141\x69" => $selesai, "\164\x65\170\164" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\x6e\151\x6c\x61\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\143\x61\x74\x61\x74\x61\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\141\155\137\x6b\145" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\x61\x64\167\141\x6c\137\155\141\164\x65\162\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\x69\154\145" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto Ueq2Q; rp18I: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto lPi3h; Ueq2Q: uKYV0: goto rGciF; lPi3h: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto Snmwt; rGciF: } goto vQsXd; nLfRK: $label = $this->input->post("\154\141\x62\145\154", true); goto Y9t9a; Y9t9a: $id_kelas = $this->input->post("\x69\144\x5f\153\145\154\141\163", true); goto XJXF1; vQsXd: uU0Xu: goto ivTXD; XJXF1: $id_kjm = $this->input->post("\x69\x64\x5f\153\152\155", true); goto t0Oip; B0XbU: erksO: goto S12qs; z3EIb: $info->istirahat = unserialize($info->istirahat); goto B0XbU; IjWfe: $id_smt = $this->master->getSemesterActive()->id_smt; goto E7vBy; sEdat: if (!($info != null)) { goto erksO; } goto z3EIb; ivTXD: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto sEdat; t0Oip: $id_tp = $this->master->getTahunActive()->id_tp; goto IjWfe; cKuu6: } public function saveNilai() { goto OpRvc; uGcn3: $this->db->where("\x69\144\137\154\157\147", $id_log); goto PGmyq; da0tf: $catatan = $this->input->post("\143\141\x74\141\x74\141\x6e", true); goto NrmgJ; mKn6w: goto Gf43T; goto eJ5je; JZy1t: $id_log = $this->input->post("\x69\x64\x5f\154\157\x67", true); goto kBmHb; Gw_ZV: $this->db->where("\x69\144\137\154\x6f\147", $id_log); goto suaeI; eJ5je: qSWYY: goto uGcn3; aetGd: $this->output_json($update); goto WWCln; EKWHR: $label = $this->input->post("\154\141\x62\145\154", true); goto JZy1t; suaeI: $q = $this->db->get("\x6c\x6f\147\137\155\x61\x74\x65\162\151"); goto YjvoY; NrmgJ: $insert = ["\156\x69\154\141\151" => $nilai, "\x63\x61\164\x61\x74\141\156" => $catatan]; goto Gw_ZV; PGmyq: $update = $this->db->update("\x6c\157\x67\137\155\x61\x74\x65\162\151", $insert); goto SQAdy; OpRvc: $method = $this->input->post("\x6d\145\164\x68\x6f\x64", true); goto EKWHR; YjvoY: if ($q->num_rows() > 0) { goto qSWYY; } goto LfyWE; jTzT5: $update = $this->db->insert("\x6c\x6f\147\137\155\x61\164\x65\x72\x69", $insert); goto mKn6w; SQAdy: Gf43T: goto aetGd; kBmHb: $nilai = $this->input->post("\x6e\x69\154\x61\151", true); goto da0tf; LfyWE: $this->db->set("\151\x64\x5f\x6c\157\147", $id_log); goto jTzT5; WWCln: } }
