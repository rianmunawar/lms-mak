<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\x41\x53\x45\120\101\x54\x48") or exit("\116\157\x20\144\x69\x72\145\x63\164\x20\163\x63\162\x69\160\164\x20\x61\143\143\145\x73\163\40\141\x6c\154\x6f\167\x65\x64"); use PhpOffice\PhpSpreadsheet\Spreadsheet; use PhpOffice\PhpSpreadsheet\Writer\Xlsx; use PhpOffice\PhpSpreadsheet\Writer\Xls; use PhpOffice\PhpSpreadsheet\Writer\Csv; class Dataekstra extends CI_Controller { public function __construct() { goto jdNeo; fxaAZ: $this->load->model("\x44\162\157\160\x64\x6f\167\156\137\155\157\144\145\154", "\144\x72\157\160\144\x6f\167\156"); goto Zf5_G; jdNeo: parent::__construct(); goto bRAQ3; iE7nc: $this->load->model("\x4d\x61\163\164\x65\162\x5f\x6d\157\x64\145\x6c", "\x6d\141\x73\164\145\x72"); goto JM2p4; ViTfn: XRjGr: goto gjuX5; JM2p4: $this->load->model("\x44\141\163\x68\142\x6f\x61\162\144\137\x6d\x6f\x64\x65\x6c", "\x64\x61\x73\150\x62\157\141\x72\x64"); goto fxaAZ; Zf5_G: $this->load->model("\x4b\x65\x6c\141\163\x5f\155\x6f\x64\145\x6c", "\x6b\145\x6c\x61\x73"); goto vDqyq; t8oUZ: DeECr: goto J4KJU; gjuX5: $this->load->library(["\x64\x61\164\x61\164\x61\x62\154\145\163", "\146\157\162\155\x5f\166\141\154\151\144\x61\x74\x69\x6f\156"]); goto iE7nc; bRAQ3: if (!$this->ion_auth->logged_in()) { goto DeECr; } goto PKRnK; vDqyq: $this->form_validation->set_error_delimiters('', ''); goto T_EbQ; YxT44: goto XRjGr; goto t8oUZ; PKRnK: if ($this->ion_auth->is_admin()) { goto OeQXQ; } goto wvLgQ; re8Oc: OeQXQ: goto YxT44; wvLgQ: show_error("\x48\x61\x6e\171\x61\x20\101\x64\155\x69\156\151\163\x74\x72\x61\x74\157\x72\x20\171\x61\156\147\40\x64\151\142\x65\162\x69\40\150\x61\x6b\x20\x75\x6e\x74\165\153\40\155\145\x6e\147\x61\153\163\145\x73\40\x68\141\154\x61\155\x61\x6e\40\x69\x6e\151\54\40\x3c\141\40\150\162\145\146\x3d\42" . base_url("\144\141\163\150\x62\157\141\162\144") . "\42\76\113\145\x6d\x62\141\x6c\x69\x20\x6b\145\x20\x6d\145\x6e\x75\40\x61\167\x61\154\x3c\x2f\x61\x3e", 403, "\101\153\x73\x65\163\40\x54\145\x72\154\141\162\141\156\147"); goto re8Oc; J4KJU: redirect("\141\165\164\x68"); goto ViTfn; T_EbQ: } public function output_json($data, $encode = true) { goto ZCHiN; Di5rT: $data = json_encode($data); goto tUBg1; X_Xuy: $this->output->set_content_type("\x61\x70\x70\154\x69\x63\x61\x74\151\x6f\156\57\x6a\x73\157\x6e")->set_output($data); goto B2u7u; tUBg1: fxxJd: goto X_Xuy; ZCHiN: if (!$encode) { goto fxxJd; } goto Di5rT; B2u7u: } public function index() { goto e0dLO; KKpij: CKVg6: goto cbqlC; mOwiF: $this->load->view("\x5f\x74\145\155\160\x6c\141\x74\145\163\57\144\141\x73\x68\x62\157\141\162\144\x2f\x5f\146\x6f\x6f\164\145\x72"); goto MxKv3; AxpqA: $kelasEks = []; goto rUTav; makr3: $smt = $this->dashboard->getSemesterActive(); goto U3hI2; P9ZlX: $data["\x70\145\155\x62\x69\x6d\142\151\156\x67"] = $this->dropdown->getAllGuru(); goto UdYBm; cbqlC: $data["\x65\153\163\x6b\165\154\137\153\145\154\141\x73"] = $kelasEks; goto zQOwI; LeMIH: $data = ["\165\163\145\x72" => $user, "\152\x75\x64\165\x6c" => "\105\153\x73\x74\x72\141\153\x75\x72\x69\153\x75\154\145\162", "\x73\165\142\152\x75\x64\165\x6c" => "\x44\141\164\x61\40\115\141\164\x61\x20\120\145\x6c\141\x6a\141\162\x61\156", "\160\162\x6f\x66\151\154\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\x74\x74\151\156\x67" => $this->dashboard->getSetting()]; goto ZEg3C; ZEg3C: $tp = $this->dashboard->getTahunActive(); goto makr3; rUTav: foreach ($kelas as $key => $kls) { $kelasEks[$key] = $this->kelas->getKelasEkskul($key, $tp->id_tp, $smt->id_smt); XthEw: } goto KKpij; MmIil: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto lrjHs; lrjHs: $data["\x73\x6d\x74\137\141\x63\x74\x69\x76\x65"] = $smt; goto e36C1; b4ssW: $this->load->view("\155\x61\x73\x74\x65\x72\57\145\x6b\x73\x74\162\141\57\x64\x61\x74\141"); goto mOwiF; e36C1: $data["\x65\x6b\163\153\x75\154"] = $this->dropdown->getAllEkskul(); goto HyWys; e0dLO: $user = $this->ion_auth->user()->row(); goto LeMIH; qR1VM: $data["\164\x70\137\141\x63\164\x69\166\x65"] = $tp; goto MmIil; UdYBm: $this->load->view("\x5f\x74\145\155\x70\x6c\x61\x74\x65\163\x2f\x64\141\163\150\142\x6f\141\x72\x64\x2f\x5f\x68\145\x61\x64\145\162", $data); goto b4ssW; zQOwI: $data["\x6b\145\x6c\x61\x73"] = $kelas; goto P9ZlX; U3hI2: $data["\x74\160"] = $this->dashboard->getTahun(); goto qR1VM; HyWys: $kelas = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto AxpqA; MxKv3: } public function create() { goto Qy3xF; Y739o: $data = $this->master->create("\x6d\x61\163\164\145\x72\x5f\x65\153\163\164\162\141", $insert); goto ch00I; ch00I: $this->output->set_content_type("\x61\160\160\x6c\151\143\x61\164\x69\x6f\156\57\152\x73\x6f\156")->set_output($data); goto xd1e8; Qy3xF: $insert = ["\156\x61\x6d\x61\x5f\145\153\x73\164\162\141" => $this->input->post("\156\x61\x6d\141\137\145\x6b\163\x74\162\141", true), "\x6b\157\144\145\137\145\x6b\x73\x74\x72\141" => $this->input->post("\x6b\157\x64\x65\x5f\145\153\x73\164\x72\141", true)]; goto Y739o; xd1e8: } public function read() { goto AmSRN; tyTFg: echo $this->datatables->generate(); goto agZO6; AmSRN: $this->datatables->select("\52"); goto vRX1f; vRX1f: $this->datatables->from("\155\141\163\x74\145\x72\x5f\x65\x6b\x73\x74\x72\141"); goto tyTFg; agZO6: } public function update() { $data = $this->master->updateEkstra(); $this->output->set_content_type("\141\x70\x70\154\x69\143\141\164\151\157\x6e\x2f\x6a\163\x6f\156")->set_output($data); } public function delete($id) { goto XIYw2; C9yXg: goto WDr0E; goto vUSEJ; N1N2D: $this->output_json(["\x73\164\x61\x74\165\x73" => true, "\x6d\145\163\163\x61\147\145" => "\x45\x6b\163\x6b\x75\154\40\142\x65\x72\x68\x61\x73\151\154\x20\x64\x69\150\x61\160\165\163"]); goto KSAfG; J2ihY: $tabless = $this->db->list_tables(); goto s3wbc; jQZ6F: goto tG1t5; goto QngN9; AxtQO: foreach ($tables as $table) { goto fk5SK; LL_0C: cKmOg: goto NBHrQ; xYNWK: if (!($num > 0)) { goto cKmOg; } goto XL3Tm; NBHrQ: x5y62: goto sZI0b; HjZNt: $this->db->where("\x69\x64\137\145\153\163\x74\x72\x61", $id); goto sYf5I; fk5SK: if (!($table != "\x6d\141\x73\x74\x65\162\x5f\x65\x6b\163\x74\x72\x61")) { goto x5y62; } goto HjZNt; sZI0b: p_LjK: goto xy8x9; XL3Tm: array_push($messages, $table); goto LL_0C; sYf5I: $num = $this->db->count_all_results($table); goto xYNWK; xy8x9: } goto UrlI2; s3wbc: foreach ($tabless as $table) { goto eLl1V; tbLDP: foreach ($fields as $field) { goto eMYVZ; qU52X: n2Jc0: goto kV9Dh; eMYVZ: if (!($field->name == "\x69\144\137\x65\x6b\x73\164\x72\x61" || $field->name == "\x65\153\x73\164\162\x61\x5f\151\144")) { goto crsmQ; } goto IJOS0; IJOS0: array_push($tables, $table); goto NM1Py; NM1Py: crsmQ: goto qU52X; kV9Dh: } goto qGteI; qGteI: U5BBi: goto WlbKu; eLl1V: $fields = $this->db->field_data($table); goto tbLDP; WlbKu: ARmhM: goto NZhkd; NZhkd: } goto Od6AW; Ti99B: $tables = []; goto J2ihY; M5HNY: if (count($messages) > 0) { goto DAEOd; } goto t4v55; QngN9: DAEOd: goto m0t9p; KSAfG: WDr0E: goto jQZ6F; XIYw2: $messages = []; goto Ti99B; UrlI2: Gaqok: goto M5HNY; t4v55: if ($this->master->delete("\x6d\141\x73\164\x65\162\137\x65\153\x73\x74\162\x61", [$id], "\x69\144\x5f\145\153\x73\164\x72\x61")) { goto kPHDm; } goto JNXQG; SC6Pn: tG1t5: goto kcGnO; JNXQG: $this->output_json(["\163\164\141\x74\x75\163" => false, "\x6d\145\x73\163\141\x67\x65" => "\x45\x6b\x73\153\x75\154\x20\x67\141\147\x61\154\x20\x64\151\x68\x61\160\165\x73"]); goto C9yXg; Od6AW: E_bPa: goto Aj84N; vUSEJ: kPHDm: goto N1N2D; Aj84N: $this->output_json($tables); goto AxtQO; m0t9p: $this->output_json(["\163\x74\x61\164\165\x73" => false, "\x74\157\x74\141\154" => "\x4d\x61\x70\145\x6c\40\144\x69\x67\165\x6e\x61\153\x61\x6e\40\x64\151\40" . count($messages) . "\40\x74\141\x62\145\154\72\x3c\142\162\x3e" . implode("\74\142\162\76", $messages)]); goto SC6Pn; kcGnO: } public function save() { goto zPhoj; xBO06: $tp = $this->master->getTahunActive()->id_tp; goto SS2dD; StPUk: $row_insert = 0; goto F5Mtg; zPhoj: $check_kelas = json_decode(json_encode(json_decode($this->input->post("\x6b\x65\154\141\x73", true)))); goto xBO06; TFv1U: $this->output_json($res); goto JKRJM; OfEZ4: $res["\165\x70\144\x61\x74\x65"] = $update; goto TFv1U; SS2dD: $smt = $this->master->getSemesterActive()->id_smt; goto StPUk; K91sH: foreach ($check_kelas as $key => $kls) { goto ECIBJ; u2ZXn: $ekstra = []; goto CKzhe; Gf01Y: goto g2QO9; goto k4Qj_; xuauV: $ekstra[] = ["\x65\x6b\163\x74\x72\141" => $kelaseks]; goto YqHkZ; IzdXT: nBrZY: goto x71hE; tdncN: $row_ekskul = count($this->input->post("\145\153\x73\x6b\x75\154" . $kls->kls_id, true)); goto u2ZXn; eGzc2: $ekstras = ["\151\144\x5f\x6b\145\154\141\x73\x5f\145\x6b\163\x74\x72\141" => $kls->kls_id . $tp . $smt, "\x69\x64\137\x6b\145\154\x61\163" => $kls->kls_id, "\x69\x64\137\164\160" => $tp, "\151\x64\137\x73\155\164" => $smt, "\145\x6b\163\164\162\x61" => serialize($ekstra)]; goto UFPp8; q1CMf: $j++; goto Gf01Y; CKzhe: $j = 0; goto HiB1r; sUHif: $kelaseks = $this->input->post("\x65\x6b\x73\x6b\x75\x6c" . $kls->kls_id . "\x5b" . $j . "\x5d", true); goto xuauV; oapHu: if (!($j <= $row_ekskul)) { goto YzUsP; } goto sUHif; k4Qj_: YzUsP: goto eGzc2; YgdGt: if (!$check_ekskul) { goto ewSfC; } goto tdncN; ECIBJ: $check_ekskul = $this->input->post("\x65\x6b\x73\x6b\165\154" . $kls->kls_id, true); goto YgdGt; YqHkZ: JI6OP: goto q1CMf; HiB1r: g2QO9: goto oapHu; UFPp8: $update[] = $this->db->replace("\x6b\x65\154\x61\163\137\x65\153\x73\164\x72\141", $ekstras); goto DJ6me; DJ6me: ewSfC: goto IzdXT; x71hE: } goto v1cma; F5Mtg: $update = []; goto K91sH; v1cma: her_V: goto MEgKK; MEgKK: $res["\163\x74\x61\164\x75\x73"] = true; goto OfEZ4; JKRJM: } public function import($import_data = null) { goto yH1wq; a8TkA: $this->load->view("\137\164\x65\155\160\154\141\x74\145\x73\57\144\x61\163\150\x62\157\x61\x72\144\57\137\150\x65\x61\x64\145\x72", $data); goto JZhr5; nIh1e: $data["\163\155\164\x5f\141\x63\x74\151\166\x65"] = $this->dashboard->getSemesterActive(); goto a8TkA; Hwwa8: ig9Za: goto M2vAt; M2vAt: $data["\164\x70"] = $this->dashboard->getTahun(); goto eBOVK; iLLUZ: $data = ["\x75\163\145\x72" => $user, "\152\165\x64\x75\x6c" => "\x4d\x61\164\141\40\120\x65\x6c\141\152\x61\162\x61\156", "\163\165\142\x6a\165\144\165\x6c" => "\111\155\x70\x6f\x72\x74\40\x4d\141\x74\x61\x20\120\x65\x6c\x61\x6a\x61\x72\141\156", "\x70\162\157\146\x69\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\164\151\x6e\147" => $this->dashboard->getSetting()]; goto RGuTb; Jcc_2: $this->load->view("\x5f\x74\145\x6d\x70\x6c\141\x74\x65\163\57\144\x61\x73\x68\x62\x6f\x61\162\144\x2f\137\146\157\157\x74\x65\162"); goto PJXCk; eBOVK: $data["\164\x70\x5f\141\x63\x74\151\x76\x65"] = $this->dashboard->getTahunActive(); goto dLdLG; wI6SO: $data["\151\x6d\x70\157\162\x74"] = $import_data; goto Hwwa8; JZhr5: $this->load->view("\155\141\x73\164\145\162\x2f\x65\153\163\164\162\141\x2f\x69\x6d\x70\157\162\x74"); goto Jcc_2; yH1wq: $user = $this->ion_auth->user()->row(); goto iLLUZ; RGuTb: if (!($import_data != null)) { goto ig9Za; } goto wI6SO; dLdLG: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto nIh1e; PJXCk: } }
