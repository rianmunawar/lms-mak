<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbttoken extends CI_Controller { public function __construct() { goto YqRDM; i4fK0: show_error("\x48\x61\156\171\x61\40\x41\x64\155\151\x6e\x69\163\164\x72\141\164\x6f\x72\x20\171\141\156\147\x20\144\x69\142\145\x72\151\40\150\141\153\x20\x75\156\164\165\x6b\40\x6d\x65\x6e\x67\141\x6b\163\145\x73\x20\150\141\154\x61\x6d\x61\x6e\40\151\156\151\54\x20\x3c\x61\x20\150\x72\x65\x66\x3d\x22" . base_url("\x64\x61\x73\150\142\x6f\x61\162\144") . "\x22\76\x4b\145\x6d\x62\x61\x6c\x69\x20\x6b\145\x20\x6d\145\x6e\165\40\x61\167\141\154\x3c\57\141\76", 403, "\x41\153\163\x65\x73\40\124\x65\x72\154\x61\162\141\156\147"); goto ODEcY; IOg7c: goto lbdMn; goto h0WN0; ODEcY: M3Pnx: goto IOg7c; h0WN0: Ei23e: goto FP7Iw; bHnP8: $this->load->model("\114\x6f\147\137\155\x6f\x64\145\x6c", "\x6c\x6f\147\147\151\156\x67"); goto t_sah; fyodN: $this->load->library(["\144\x61\x74\141\x74\141\x62\x6c\x65\x73", "\146\157\x72\155\x5f\166\141\x6c\x69\144\141\x74\x69\x6f\156"]); goto EfT1Q; SsJ8S: if (!$this->ion_auth->logged_in()) { goto Ei23e; } goto PCMsL; ifHLf: $this->load->model("\104\x61\x73\150\142\x6f\x61\x72\144\x5f\x6d\x6f\x64\145\x6c", "\144\x61\163\x68\142\157\x61\162\144"); goto NBO4C; FP7Iw: redirect("\x61\x75\x74\150"); goto t004I; EfT1Q: $this->load->model("\x4d\x61\163\164\145\162\x5f\155\x6f\x64\x65\154", "\x6d\141\x73\164\145\162"); goto ifHLf; P7PhN: $this->load->dbforge(); goto SsJ8S; PCMsL: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\x72\165"))) { goto M3Pnx; } goto i4fK0; YqRDM: parent::__construct(); goto P7PhN; t_sah: $this->form_validation->set_error_delimiters('', ''); goto BlV7U; t004I: lbdMn: goto fyodN; NBO4C: $this->load->model("\x43\142\x74\137\x6d\157\x64\x65\154", "\143\142\x74"); goto bHnP8; BlV7U: } public function output_json($data, $encode = true) { goto o_vRl; zBlgD: $this->output->set_content_type("\x61\160\x70\x6c\x69\143\141\164\151\157\x6e\x2f\x6a\163\x6f\x6e")->set_output($data); goto EYTx1; o_vRl: if (!$encode) { goto GOLp7; } goto sZEbr; sZEbr: $data = json_encode($data); goto kKsz7; kKsz7: GOLp7: goto zBlgD; EYTx1: } public function index() { goto OHBdM; iJmUj: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto aYK9x; dSDtY: $this->load->view("\155\x65\x6d\x62\145\162\163\57\x67\x75\162\165\x2f\164\x65\155\160\154\141\164\x65\163\57\x66\157\x6f\x74\x65\x72"); goto wTkKj; X9MEt: $data = ["\165\163\x65\162" => $user, "\152\165\144\165\154" => "\124\x6f\153\x65\156\40\125\152\151\141\x6e", "\163\165\142\x6a\x75\x64\165\154" => "\124\157\153\145\x6e", "\163\x65\164\164\151\156\147" => $this->dashboard->getSetting()]; goto xWEkY; RqX8g: $data["\164\x70"] = $this->dashboard->getTahun(); goto avfJu; VTi_W: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto ggmAe; vKo6L: if ($this->ion_auth->is_admin()) { goto HDVIq; } goto iJmUj; G5jL_: $this->load->view("\155\145\155\142\145\162\x73\57\147\x75\x72\x75\x2f\x74\x65\155\x70\154\141\x74\x65\x73\57\x68\x65\141\144\145\162", $data); goto cEXxl; avfJu: $data["\x74\x70\137\x61\x63\164\151\166\x65"] = $tp; goto VTi_W; v7XJT: HDVIq: goto QCJSt; xWEkY: $tp = $this->master->getTahunActive(); goto Fu22x; Dr2nH: $tkn["\x6a\141\162\141\x6b"] = "\x31"; goto dZobY; cEXxl: $this->load->view("\x6d\145\155\142\145\x72\x73\57\x67\x75\x72\165\x2f\x63\x62\x74\x2f\164\157\x6b\x65\x6e\57\x64\x61\164\141"); goto dSDtY; dZobY: $tkn["\x65\x6c\x61\160\x73\x65\x64"] = "\x30\x30\x3a\x30\x30\72\x30\60"; goto khDlq; Fu22x: $smt = $this->master->getSemesterActive(); goto RqX8g; O1cPf: $token = $this->cbt->getToken(); goto oYWi3; uYTsF: $tkn["\x61\x75\x74\157"] = "\x30"; goto Dr2nH; aYK9x: $data["\147\165\x72\x75"] = $guru; goto G5jL_; OHBdM: $user = $this->ion_auth->user()->row(); goto X9MEt; To0cS: IU9jp: goto sYj4A; GgVxe: $this->load->view("\x63\142\x74\x2f\164\x6f\x6b\145\156\57\x64\x61\164\x61"); goto gPBem; gPBem: $this->load->view("\137\x74\x65\x6d\x70\x6c\141\164\145\x73\57\144\141\x73\x68\x62\157\x61\x72\x64\x2f\x5f\146\x6f\x6f\164\x65\162"); goto To0cS; ggmAe: $data["\163\155\164\137\141\x63\x74\151\166\145"] = $smt; goto O1cPf; QCJSt: $data["\160\x72\157\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto Nw1rX; wTkKj: goto IU9jp; goto v7XJT; oYWi3: $tkn["\164\x6f\153\x65\x6e"] = ''; goto uYTsF; Nw1rX: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\x74\x65\x73\x2f\x64\x61\x73\150\x62\x6f\141\x72\x64\57\137\150\x65\x61\144\145\x72", $data); goto GgVxe; khDlq: $data["\164\x6f\153\145\156"] = $token != null ? $token : json_decode(json_encode($tkn)); goto vKo6L; sYj4A: } public function generateToken() { goto l5ze0; RG7Vt: $post_token->token = $new; goto COAXE; COAXE: $post_token->updated = $updated; goto MToZ2; gkN6E: $this->output_json($token); goto EinpZ; fCNtm: $new = $this->createNewToken(); goto sq0fx; YGGp7: AAl7L: goto dp0mR; EKlQE: if ($force == "\61") { goto T6BIO; } goto OAsTA; nj6q1: $total_minutes += $diff->i; goto iuD2U; MToZ2: $this->cbt->saveToken($post_token); goto YGGp7; teevq: $total_minutes += $diff->h * 60; goto nj6q1; NBoKh: $token->now = $updated; goto gkN6E; gkneY: $total_minutes = $diff->days * 24 * 60; goto teevq; RDk8c: $new = $this->createNewToken(); goto RG7Vt; OAsTA: $mulai = new DateTime($token->updated); goto BrEpw; BrEpw: $diff = $mulai->diff(new DateTime()); goto gkneY; dp0mR: $token = $this->cbt->getToken(); goto NBoKh; l5ze0: $post_token = json_decode($this->input->get("\x64\141\x74\x61")); goto eDgcX; Phnd1: goto AAl7L; goto ZGdYz; sq0fx: $post_token->token = $new; goto cq4xu; cq4xu: $post_token->updated = $updated; goto S5SRT; MuW3E: $updated = date("\x59\55\x6d\55\x64\x20\110\x3a\151\72\x73"); goto EKlQE; AeQu_: f2C6Q: goto Phnd1; iuD2U: if (!($total_minutes >= $post_token->jarak)) { goto f2C6Q; } goto fCNtm; eDgcX: $force = $this->input->get("\x66\157\162\x63\145"); goto uWWcY; S5SRT: $this->cbt->saveToken($post_token); goto AeQu_; uWWcY: $token = $this->cbt->getToken(); goto MuW3E; ZGdYz: T6BIO: goto RDk8c; EinpZ: } public function loadToken() { goto fsGAa; oMNIC: if ($token == null) { goto zHbw7; } goto gmgCo; SaTu4: $data["\x65\154\141\160\x73\145\x64"] = "\60\60\x3a\x30\60\72\x30\60"; goto R1yuA; fC0IJ: $token = $this->cbt->getToken(); goto oMNIC; d21wz: $data["\164\157\x6b\x65\156"] = ''; goto F2GWc; gmgCo: $token->now = date("\x59\55\155\55\x64\40\x48\x3a\151\72\x73"); goto FHLI0; P8gXo: nr3fQ: goto l9aBG; As__g: iQ0dh: goto fC0IJ; R1yuA: $this->output_json($data); goto P8gXo; MUABR: goto nr3fQ; goto yZea0; buGCE: $table_changed = false; goto oW1Nz; fsGAa: $dataflds = $this->db->field_data("\x63\142\x74\137\x74\157\x6b\x65\x6e"); goto buGCE; yZea0: zHbw7: goto d21wz; F2GWc: $data["\141\x75\x74\x6f"] = "\60"; goto SaTu4; oW1Nz: foreach ($dataflds as $fild) { goto cXFj3; M0BBl: Fq9lI: goto vAjat; yQABD: $table_changed = $this->dbforge->modify_column("\143\x62\x74\x5f\164\157\153\145\156", $field); goto M0BBl; hoMV1: $field = ["\x75\x70\144\x61\164\145\x64" => array("\164\x79\x70\x65" => "\x56\101\122\103\x48\x41\122", "\143\157\156\163\x74\162\x61\x69\156\x74" => 20, "\x64\145\146\141\x75\x6c\x74" => '')]; goto yQABD; qBs3f: aTIK7: goto viCko; x7VfI: if (!($fild->type != "\166\141\x72\x63\150\141\162")) { goto Fq9lI; } goto hoMV1; cXFj3: if (!($fild->name == "\165\x70\x64\x61\164\145\x64")) { goto QRF08; } goto x7VfI; vAjat: QRF08: goto qBs3f; viCko: } goto As__g; FHLI0: $this->output_json($token); goto MUABR; l9aBG: } private function createNewToken() { goto bJ_F3; F_dpi: RGakE: goto KErUI; chxnZ: $new_token = ''; goto xDamJ; PyDHo: $random_character = $chars[mt_rand(0, $input_length - 1)]; goto xPdig; xPdig: $new_token .= $random_character; goto m9nNZ; bJ_F3: $chars = "\101\102\103\104\x45\x46\107\110\111\x4a\x4b\x4c\x4d\116\117\x50\121\122\123\x54\125\126\127\x58\x59\x5a"; goto FqsAA; m9nNZ: YTMxd: goto Rn21G; KErUI: return $new_token; goto u5Tsw; Rn21G: $i++; goto FPSpe; xDamJ: $i = 0; goto ulX2o; Vd0cs: if (!($i < 6)) { goto RGakE; } goto PyDHo; ulX2o: svT2S: goto Vd0cs; FqsAA: $input_length = strlen($chars); goto chxnZ; FPSpe: goto svT2S; goto F_dpi; u5Tsw: } }
